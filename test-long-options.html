<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Long Options Modal Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Bangers', cursive, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: white;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        h1 {
            text-align: center;
            font-size: 36px;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .test-section h2 {
            font-size: 24px;
            margin-bottom: 15px;
        }
        
        .question {
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .option-btn, .controlsBtn {
            background: linear-gradient(135deg, #4a90e2, #357abd);
            color: white;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 12px 20px;
            font-size: 16px;
            font-family: 'Bangers', cursive;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .option-btn:hover, .controlsBtn:hover {
            background: linear-gradient(135deg, #357abd, #2968a3);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .result {
            margin-top: 15px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            min-height: 20px;
        }
        
        .test-btn {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px 30px;
            font-size: 18px;
            font-family: 'Bangers', cursive;
            cursor: pointer;
            margin: 10px;
            transition: all 0.2s ease;
        }
        
        .test-btn:hover {
            background: linear-gradient(135deg, #20c997, #17a2b8);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¯ Long Options Modal Test</h1>
        
        <div class="test-section">
            <h2>Test 1: Short Options (Should Display Inline)</h2>
            <div class="question">What is the capital of France?</div>
            <div class="controls" id="shortOptionsContainer"></div>
            <div class="result" id="shortResult"></div>
            <button class="test-btn" onclick="testShortOptions()">Test Short Options</button>
        </div>
        
        <div class="test-section">
            <h2>Test 2: Long Options (Should Display in Modal)</h2>
            <div class="question">Which of the following best describes the process of photosynthesis?</div>
            <div class="controls" id="longOptionsContainer"></div>
            <div class="result" id="longResult"></div>
            <button class="test-btn" onclick="testLongOptions()">Test Long Options</button>
        </div>
        
        <div class="test-section">
            <h2>Test 3: Word Count Trigger (Should Display in Modal)</h2>
            <div class="question">Which option has more than 3 words?</div>
            <div class="controls" id="wordCountContainer"></div>
            <div class="result" id="wordCountResult"></div>
            <button class="test-btn" onclick="testWordCount()">Test Word Count</button>
        </div>
        
        <div class="test-section">
            <h2>Test 4: Mixed Length Options (Should Display in Modal)</h2>
            <div class="question">What programming concept is this?</div>
            <div class="controls" id="mixedOptionsContainer"></div>
            <div class="result" id="mixedResult"></div>
            <button class="test-btn" onclick="testMixedOptions()">Test Mixed Options</button>
        </div>
        
        <div class="test-section">
            <h2>Test 5: RunRunRabbit Style (controlsBtn class)</h2>
            <div class="question">Choose your answer:</div>
            <div class="controls" id="rabbitOptionsContainer"></div>
            <div class="result" id="rabbitResult"></div>
            <button class="test-btn" onclick="testRabbitOptions()">Test Rabbit Style</button>
        </div>
    </div>

    <script src="Games/shared-modal.js"></script>
    <script>
        // Initialize modal system
        if (window.MultipleChoiceModal) {
            window.MultipleChoiceModal.createModal();
        }

        function testShortOptions() {
            const options = ["Paris", "London", "Berlin", "Madrid"];
            const container = document.getElementById('shortOptionsContainer');
            const result = document.getElementById('shortResult');
            
            result.textContent = "Testing short options...";
            
            window.MultipleChoiceModal.displayOptions(
                container,
                "What is the capital of France?",
                options,
                (selected, index) => {
                    result.textContent = `Selected: "${selected}" (index: ${index})`;
                    result.style.color = selected === "Paris" ? "#28a745" : "#dc3545";
                },
                "option-btn"
            );
        }

        function testLongOptions() {
            const options = [
                "Photosynthesis is the complex biological process by which green plants and some bacteria convert light energy from the sun into chemical energy stored in glucose molecules",
                "It is a simple process where plants absorb water through their roots and release oxygen through their leaves during daylight hours",
                "Photosynthesis involves the conversion of carbon dioxide and water into glucose and oxygen using chlorophyll and sunlight as the primary energy source",
                "It is the process by which plants create their own food using sunlight, water, and carbon dioxide, producing oxygen as a beneficial byproduct for other organisms"
            ];
            const container = document.getElementById('longOptionsContainer');
            const result = document.getElementById('longResult');
            
            result.textContent = "Testing long options (should trigger modal)...";
            
            window.MultipleChoiceModal.displayOptions(
                container,
                "ðŸ“š BIOLOGY QUESTION: Which of the following best describes the process of photosynthesis? (Check that this question appears in the modal!)",
                options,
                (selected, index) => {
                    result.textContent = `Selected option ${index + 1}: "${selected.substring(0, 50)}..."`;
                    result.style.color = "#28a745";
                },
                "option-btn"
            );
        }

        function testWordCount() {
            const options = [
                "Yes",
                "No", 
                "Maybe so",
                "This option has more than three words"
            ];
            const container = document.getElementById('wordCountContainer');
            const result = document.getElementById('wordCountResult');
            
            result.textContent = "Testing word count trigger (should trigger modal due to 4+ word option)...";
            
            window.MultipleChoiceModal.displayOptions(
                container,
                "ðŸ¤” QUESTION TEST: Which option has more than 3 words? (This question should appear in the modal header)",
                options,
                (selected, index) => {
                    const wordCount = selected.trim().split(/\s+/).length;
                    result.textContent = `Selected: "${selected}" (${wordCount} words, index: ${index})`;
                    result.style.color = wordCount > 3 ? "#28a745" : "#dc3545";
                },
                "option-btn"
            );
        }

        function testMixedOptions() {
            const options = [
                "Loop",
                "A programming construct that allows code to be executed repeatedly based on a given Boolean condition or for a specified number of iterations",
                "Function",
                "Variable"
            ];
            const container = document.getElementById('mixedOptionsContainer');
            const result = document.getElementById('mixedResult');
            
            result.textContent = "Testing mixed length options (should trigger modal due to long option)...";
            
            window.MultipleChoiceModal.displayOptions(
                container,
                "What programming concept is this?",
                options,
                (selected, index) => {
                    result.textContent = `Selected: "${selected}" (index: ${index})`;
                    result.style.color = "#28a745";
                },
                "option-btn"
            );
        }

        function testRabbitOptions() {
            const options = [
                "The Treaty of Versailles was signed in 1919 and officially ended World War I between Germany and the Allied Powers",
                "The Declaration of Independence was signed in 1776",
                "The Berlin Wall fell in 1989, marking the end of the Cold War era",
                "The Magna Carta was signed in 1215"
            ];
            const container = document.getElementById('rabbitOptionsContainer');
            const result = document.getElementById('rabbitResult');
            
            result.textContent = "Testing RunRunRabbit style options...";
            
            window.MultipleChoiceModal.displayOptions(
                container,
                "Choose your answer:",
                options,
                (selected, index) => {
                    result.textContent = `Selected: "${selected.substring(0, 30)}..." (index: ${index})`;
                    result.style.color = "#28a745";
                },
                "controlsBtn"
            );
        }

        // Show initial instructions
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('shortResult').textContent = "Click 'Test Short Options' to see inline display";
            document.getElementById('longResult').textContent = "Click 'Test Long Options' to see modal display";
            document.getElementById('wordCountResult').textContent = "Click 'Test Word Count' to see modal triggered by 4+ word option";
            document.getElementById('mixedResult').textContent = "Click 'Test Mixed Options' to see modal triggered by one long option";
            document.getElementById('rabbitResult').textContent = "Click 'Test Rabbit Style' to see RunRunRabbit button styling";
        });
    </script>
</body>
</html>